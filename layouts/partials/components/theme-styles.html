{{ if .Site.IsServer }}
  {{ $cssOpts := (dict "targetPath" "css/custom_style.css" "enableSourceMap" true ) }}
  {{ $styles := resources.Get "scss/custom_style.scss" | resources.ExecuteAsTemplate "style.custom_style.css" . | toCSS $cssOpts }}
  <link rel="stylesheet" href="{{ $styles.RelPermalink }}" media="screen">
{{ else }}
  {{ $cssOpts := (dict "targetPath" "css/custom_style.css" ) }}
  {{ $styles := resources.Get "scss/custom_style.scss" | resources.ExecuteAsTemplate "style.custom_style.css" . | toCSS $cssOpts | minify | fingerprint }}
  <link rel="stylesheet" href="{{ $styles.RelPermalink }}" integrity="{{ $styles.Data.Integrity }}" crossorigin="anonymous" media="screen" />
{{ end }}

<div id="cursor-color"></div>
<div id="blur"></div>

{{ $js_cursor_color_blur := resources.Get "js/cursor_color_blur.js" | js.Build (dict "minify" true) }}
<script defer src="{{ $js_cursor_color_blur.RelPermalink }}"></script>

<div id="trailer">
    <i id="trailer-icon" aria-hidden="true"></i>
</div>

{{ $js_trailer_mouse := resources.Get "js/trailer_mouse.js" | js.Build (dict "minify" true) }}
<script defer src="{{ $js_trailer_mouse.RelPermalink }}"></script>